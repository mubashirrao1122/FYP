# SolRush DEX - Decentralized Exchange on Solana

A full-featured decentralized exchange (DEX) built on Solana with AMM pools, token swaps, limit orders, and RUSH token rewards.

![Solana](https://img.shields.io/badge/Solana-black?style=flat&logo=solana)
![Anchor](https://img.shields.io/badge/Anchor-0.31-blue)
![Next.js](https://img.shields.io/badge/Next.js-15-black)
![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)

## âœ¨ Features

- **Liquidity Pools** - Create and manage AMM pools with any token pair
- **Token Swaps** - Instant token swaps with slippage protection
- **Limit Orders** - Place orders that execute at target price
- **RUSH Rewards** - Earn RUSH tokens for providing liquidity
- **Real-time Data** - Live price updates and pool statistics

---

## ğŸ“‹ Prerequisites

| Tool | Version | Installation |
|------|---------|--------------|
| Solana CLI | v1.18+ | [Install](https://docs.solana.com/cli/install-solana-cli-tools) |
| Anchor | v0.31+ | [Install](https://www.anchor-lang.com/docs/installation) |
| Node.js | v18+ | [Download](https://nodejs.org/) |
| Rust | latest | [Install](https://rustup.rs/) |

Verify installation:
```bash
solana --version && anchor --version && node --version && cargo --version
```

---

## ğŸš€ How to Run This Project

### Step 1: Clone Repository
```bash
git clone https://github.com/mubashirrao1122/FYP.git
cd FYP
```

### Step 2: Start Local Validator
Open a new terminal and run (keep it running):
```bash
solana-test-validator
```

### Step 3: Configure Solana CLI
```bash
solana config set --url http://127.0.0.1:8899
```

### Step 4: Build & Deploy Smart Contract
```bash
cd solrush-dex
npm install
anchor build
anchor deploy
```

> **Note:** After deployment, note the Program ID and update it in:
> - `solrush-dex/Anchor.toml`
> - `solrush-dex/programs/solrush-dex/src/lib.rs`
> - `solrush-frontend/.env.local`

### Step 5: Initialize Tokens & Pools
```bash
cd solrush-dex
npx ts-node scripts/complete-localnet-setup.ts
```

This script will:
- Create token mints (SOL, USDC, USDT, WETH, RUSH)
- Initialize liquidity pools
- Fund test wallets with tokens

### Step 6: Start Frontend
```bash
cd ../solrush-frontend
npm install
npm run dev
```

### Step 7: Open in Browser
Open **http://localhost:3000** in your browser.

### Step 8: Connect Wallet
1. Install [Phantom](https://phantom.app/) wallet extension
2. Go to Settings â†’ Developer Settings â†’ Change Network â†’ **Localhost**
3. Click "Connect Wallet" on the website

---

## ğŸ“ Project Structure

```
FYP/
â”œâ”€â”€ solrush-dex/                    # Anchor Smart Contract
â”‚   â”œâ”€â”€ programs/solrush-dex/src/
â”‚   â”‚   â”œâ”€â”€ lib.rs                  # Program entry point
â”‚   â”‚   â”œâ”€â”€ instructions/           # Pool, Swap, Orders, Rewards
â”‚   â”‚   â”œâ”€â”€ state/                  # Account structures
â”‚   â”‚   â””â”€â”€ utils.rs                # AMM calculations
â”‚   â””â”€â”€ scripts/                    # Setup scripts
â”‚
â”œâ”€â”€ solrush-frontend/               # Next.js Frontend
â”‚   â”œâ”€â”€ components/                 # React components
â”‚   â”œâ”€â”€ lib/hooks/                  # useSwap, usePool hooks
â”‚   â””â”€â”€ lib/constants.ts            # Token configs
â”‚
â””â”€â”€ localnet-config.json            # Generated after setup
```

---

## ğŸ”§ Environment Variables

Create `solrush-frontend/.env.local`:

```env
NEXT_PUBLIC_NETWORK=localnet
NEXT_PUBLIC_RPC_URL=http://127.0.0.1:8899
NEXT_PUBLIC_PROGRAM_ID=FZ25GUwrX9W5PxBe5Ep8fR1F3HzoSeGH61YvW8sBA8J1

# Token Mints (generated by setup script)
NEXT_PUBLIC_SOL_MINT=3vMqwHGJz235mid7qDi3wBvY2Sa5gKequm3twF1Q2Sm1
NEXT_PUBLIC_USDC_MINT=4cvUrvooQFEKf4JBDfWL7HbckG7a8ddnsZ8nmDUMkCgi
NEXT_PUBLIC_USDT_MINT=8rmNvwfZvu6Ys6DpxXpH7pxdfzcmFVzK7NN3YrBb5UB
NEXT_PUBLIC_WETH_MINT=3bGyQHL2MYJpncPZbW1kXufrdrTf3nA1TRUpnRcAjFFb
NEXT_PUBLIC_RUSH_MINT=2Bj61yXFCVaAP6STf91uLMd4p2fR3ziDW4dD5c2AGt8X
```

---

## ğŸ§ª Useful Commands

| Command | Description |
|---------|-------------|
| `npx ts-node scripts/check-pools.ts` | Check pool status |
| `npx ts-node scripts/add-liquidity.ts` | Add liquidity to pools |
| `npx ts-node scripts/test-swap.ts` | Test swap functionality |
| `anchor test` | Run integration tests |
| `anchor build` | Build smart contract |
| `anchor deploy` | Deploy to localnet |

---

## ğŸ“Š Code Statistics

| Language | Lines |
|----------|-------|
| TypeScript | 12,093 |
| React (TSX) | 9,236 |
| Rust | 2,140 |
| **Total** | **~24,000** |

---

## ğŸ› ï¸ Troubleshooting

### "Program not found" Error
```bash
anchor build && anchor deploy
```

### "Account not found" Error
```bash
npx ts-node scripts/complete-localnet-setup.ts
```

### Frontend not connecting
1. Ensure validator is running: `solana-test-validator`
2. Check wallet is on **Localhost** network
3. Verify `.env.local` has correct Program ID

### Wallet shows 0 balance
```bash
solana airdrop 10 <YOUR_WALLET_ADDRESS> --url localhost
```

---

## ğŸ“„ License

MIT License

---

## ğŸ‘¨â€ğŸ’» Author

**Mubashir Rao**  
GitHub: [@mubashirrao1122](https://github.com/mubashirrao1122)
